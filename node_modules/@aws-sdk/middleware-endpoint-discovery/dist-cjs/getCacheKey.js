"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getCacheKey = void 0;
const getCacheKey = async (commandName, config, options) => {
    const { accessKeyId } = await config.credentials();
    const { identifiers } = options;
    return JSON.stringify({
        ...(accessKeyId && { accessKeyId }),
        ...(identifiers && {
            commandName,
            identifiers: Object.entries(identifiers)
                .sort()
                .reduce((acc, [key, value]) => ({ ...acc, [key]: value }), {}),
        }),
    });
};
exports.getCacheKey = getCacheKey;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0Q2FjaGVLZXkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvZ2V0Q2FjaGVLZXkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBS08sTUFBTSxXQUFXLEdBQUcsS0FBSyxFQUM5QixXQUFtQixFQUNuQixNQUE4QyxFQUM5QyxPQUVDLEVBQ0QsRUFBRTtJQUNGLE1BQU0sRUFBRSxXQUFXLEVBQUUsR0FBRyxNQUFNLE1BQU0sQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNuRCxNQUFNLEVBQUUsV0FBVyxFQUFFLEdBQUcsT0FBTyxDQUFDO0lBQ2hDLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUNwQixHQUFHLENBQUMsV0FBVyxJQUFJLEVBQUUsV0FBVyxFQUFFLENBQUM7UUFDbkMsR0FBRyxDQUFDLFdBQVcsSUFBSTtZQUNqQixXQUFXO1lBQ1gsV0FBVyxFQUFFLE1BQU0sQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDO2lCQUNyQyxJQUFJLEVBQUU7aUJBQ04sTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztTQUNqRSxDQUFDO0tBQ0gsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDO0FBbEJXLFFBQUEsV0FBVyxlQWtCdEIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDcmVkZW50aWFscywgUHJvdmlkZXIgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuLyoqXG4gKiBHZW5lcmF0ZSBrZXkgdG8gaW5kZXggdGhlIGVuZHBvaW50cyBpbiB0aGUgY2FjaGVcbiAqL1xuZXhwb3J0IGNvbnN0IGdldENhY2hlS2V5ID0gYXN5bmMgKFxuICBjb21tYW5kTmFtZTogc3RyaW5nLFxuICBjb25maWc6IHsgY3JlZGVudGlhbHM6IFByb3ZpZGVyPENyZWRlbnRpYWxzPiB9LFxuICBvcHRpb25zOiB7XG4gICAgaWRlbnRpZmllcnM/OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuICB9XG4pID0+IHtcbiAgY29uc3QgeyBhY2Nlc3NLZXlJZCB9ID0gYXdhaXQgY29uZmlnLmNyZWRlbnRpYWxzKCk7XG4gIGNvbnN0IHsgaWRlbnRpZmllcnMgfSA9IG9wdGlvbnM7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XG4gICAgLi4uKGFjY2Vzc0tleUlkICYmIHsgYWNjZXNzS2V5SWQgfSksXG4gICAgLi4uKGlkZW50aWZpZXJzICYmIHtcbiAgICAgIGNvbW1hbmROYW1lLFxuICAgICAgaWRlbnRpZmllcnM6IE9iamVjdC5lbnRyaWVzKGlkZW50aWZpZXJzKVxuICAgICAgICAuc29ydCgpXG4gICAgICAgIC5yZWR1Y2UoKGFjYywgW2tleSwgdmFsdWVdKSA9PiAoeyAuLi5hY2MsIFtrZXldOiB2YWx1ZSB9KSwge30pLFxuICAgIH0pLFxuICB9KTtcbn07XG4iXX0=