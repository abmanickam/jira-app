var ENV_ENDPOINT_DISCOVERY = ["AWS_ENABLE_ENDPOINT_DISCOVERY", "AWS_ENDPOINT_DISCOVERY_ENABLED"];
var CONFIG_ENDPOINT_DISCOVERY = "endpoint_discovery_enabled";
var isFalsy = function (value) { return ["false", "0"].indexOf(value) >= 0; };
export var NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS = {
    environmentVariableSelector: function (env) {
        for (var i = 0; i < ENV_ENDPOINT_DISCOVERY.length; i++) {
            var envKey = ENV_ENDPOINT_DISCOVERY[i];
            if (envKey in env) {
                var value = env[envKey];
                if (value === "") {
                    throw Error("Environment variable " + envKey + " can't be empty of undefined, got \"" + value + "\"");
                }
                return !isFalsy(value);
            }
        }
    },
    configFileSelector: function (profile) {
        if (CONFIG_ENDPOINT_DISCOVERY in profile) {
            var value = profile[CONFIG_ENDPOINT_DISCOVERY];
            if (value === undefined) {
                throw Error("Shared config entry " + CONFIG_ENDPOINT_DISCOVERY + " can't be undefined, got \"" + value + "\"");
            }
            return !isFalsy(value);
        }
    },
    default: undefined,
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlndXJhdGlvbnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29uZmlndXJhdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsSUFBTSxzQkFBc0IsR0FBRyxDQUFDLCtCQUErQixFQUFFLGdDQUFnQyxDQUFDLENBQUM7QUFDbkcsSUFBTSx5QkFBeUIsR0FBRyw0QkFBNEIsQ0FBQztBQUUvRCxJQUFNLE9BQU8sR0FBRyxVQUFDLEtBQWEsSUFBSyxPQUFBLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQWxDLENBQWtDLENBQUM7QUFFdEUsTUFBTSxDQUFDLElBQU0sc0NBQXNDLEdBQStDO0lBQ2hHLDJCQUEyQixFQUFFLFVBQUMsR0FBRztRQUMvQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsc0JBQXNCLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ3RELElBQU0sTUFBTSxHQUFHLHNCQUFzQixDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3pDLElBQUksTUFBTSxJQUFJLEdBQUcsRUFBRTtnQkFDakIsSUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUMxQixJQUFJLEtBQUssS0FBSyxFQUFFLEVBQUU7b0JBQ2hCLE1BQU0sS0FBSyxDQUFDLDBCQUF3QixNQUFNLDRDQUFzQyxLQUFLLE9BQUcsQ0FBQyxDQUFDO2lCQUMzRjtnQkFFRCxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO2FBQ3hCO1NBQ0Y7SUFDSCxDQUFDO0lBQ0Qsa0JBQWtCLEVBQUUsVUFBQyxPQUFPO1FBQzFCLElBQUkseUJBQXlCLElBQUksT0FBTyxFQUFFO1lBQ3hDLElBQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO1lBQ2pELElBQUksS0FBSyxLQUFLLFNBQVMsRUFBRTtnQkFDdkIsTUFBTSxLQUFLLENBQUMseUJBQXVCLHlCQUF5QixtQ0FBNkIsS0FBSyxPQUFHLENBQUMsQ0FBQzthQUNwRztZQUNELE9BQU8sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDeEI7SUFDSCxDQUFDO0lBQ0QsT0FBTyxFQUFFLFNBQVM7Q0FDbkIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExvYWRlZENvbmZpZ1NlbGVjdG9ycyB9IGZyb20gXCJAYXdzLXNkay9ub2RlLWNvbmZpZy1wcm92aWRlclwiO1xuXG5jb25zdCBFTlZfRU5EUE9JTlRfRElTQ09WRVJZID0gW1wiQVdTX0VOQUJMRV9FTkRQT0lOVF9ESVNDT1ZFUllcIiwgXCJBV1NfRU5EUE9JTlRfRElTQ09WRVJZX0VOQUJMRURcIl07XG5jb25zdCBDT05GSUdfRU5EUE9JTlRfRElTQ09WRVJZID0gXCJlbmRwb2ludF9kaXNjb3ZlcnlfZW5hYmxlZFwiO1xuXG5jb25zdCBpc0ZhbHN5ID0gKHZhbHVlOiBzdHJpbmcpID0+IFtcImZhbHNlXCIsIFwiMFwiXS5pbmRleE9mKHZhbHVlKSA+PSAwO1xuXG5leHBvcnQgY29uc3QgTk9ERV9FTkRQT0lOVF9ESVNDT1ZFUllfQ09ORklHX09QVElPTlM6IExvYWRlZENvbmZpZ1NlbGVjdG9yczxib29sZWFuIHwgdW5kZWZpbmVkPiA9IHtcbiAgZW52aXJvbm1lbnRWYXJpYWJsZVNlbGVjdG9yOiAoZW52KSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBFTlZfRU5EUE9JTlRfRElTQ09WRVJZLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBlbnZLZXkgPSBFTlZfRU5EUE9JTlRfRElTQ09WRVJZW2ldO1xuICAgICAgaWYgKGVudktleSBpbiBlbnYpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBlbnZbZW52S2V5XTtcbiAgICAgICAgaWYgKHZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoYEVudmlyb25tZW50IHZhcmlhYmxlICR7ZW52S2V5fSBjYW4ndCBiZSBlbXB0eSBvZiB1bmRlZmluZWQsIGdvdCBcIiR7dmFsdWV9XCJgKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBAdHMtaWdub3JlIEFyZ3VtZW50IG9mIHR5cGUgJ3N0cmluZyB8IHVuZGVmaW5lZCcgaXMgbm90IGFzc2lnbmFibGUgdG8gcGFyYW1ldGVyIG9mIHR5cGUgJ3N0cmluZydcbiAgICAgICAgcmV0dXJuICFpc0ZhbHN5KHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGNvbmZpZ0ZpbGVTZWxlY3RvcjogKHByb2ZpbGUpID0+IHtcbiAgICBpZiAoQ09ORklHX0VORFBPSU5UX0RJU0NPVkVSWSBpbiBwcm9maWxlKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHByb2ZpbGVbQ09ORklHX0VORFBPSU5UX0RJU0NPVkVSWV07XG4gICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBFcnJvcihgU2hhcmVkIGNvbmZpZyBlbnRyeSAke0NPTkZJR19FTkRQT0lOVF9ESVNDT1ZFUll9IGNhbid0IGJlIHVuZGVmaW5lZCwgZ290IFwiJHt2YWx1ZX1cImApO1xuICAgICAgfVxuICAgICAgcmV0dXJuICFpc0ZhbHN5KHZhbHVlKTtcbiAgICB9XG4gIH0sXG4gIGRlZmF1bHQ6IHVuZGVmaW5lZCxcbn07XG4iXX0=